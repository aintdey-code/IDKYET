local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- Remove all accessories from character
local function RemoveAccessories(character)
    if not character then return end
    
    for _, accessory in ipairs(character:GetDescendants()) do
        if accessory:IsA("Accessory") then
            accessory:Destroy()
        end
    end
    
    character.DescendantAdded:Connect(function(child)
        if child:IsA("Accessory") then
            child:Destroy()
        end
    end)
    
    RunService.Heartbeat:Connect(function()
        for _, item in ipairs(character:GetChildren()) do
            if item:IsA("Accessory") then
                item:Destroy()
            end
        end
    end)
end

if LocalPlayer.Character then
    RemoveAccessories(LocalPlayer.Character)
end
LocalPlayer.CharacterAdded:Connect(RemoveAccessories)

-- Main GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "L E A F Y"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = PlayerGui

-- Main Frame with leaf-like shape
local MainFrame = Instance.new("Frame")
MainFrame.Name = "LeafBooster"
MainFrame.Size = UDim2.new(0, 200, 0, 120)
MainFrame.Position = UDim2.new(0, 20, 0, 20)
MainFrame.BackgroundColor3 = Color3.fromRGB(10, 20, 5) -- Deep forest black-green
MainFrame.BackgroundTransparency = 0.1
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

-- Custom leaf-inspired corner rounding (more organic)
local MainCorner = Instance.new("UICorner", MainFrame)
MainCorner.CornerRadius = UDim.new(0, 15)

-- Add a second corner for asymmetry (leaf-like)
local function createLeafCorner()
    local cornerPatch = Instance.new("Frame")
    cornerPatch.Size = UDim2.new(0, 30, 0, 30)
    cornerPatch.Position = UDim2.new(1, -15, 0, -5)
    cornerPatch.BackgroundColor3 = Color3.fromRGB(10, 20, 5)
    cornerPatch.BackgroundTransparency = 0.1
    cornerPatch.BorderSizePixel = 0
    cornerPatch.Parent = MainFrame
    
    local cornerRadius = Instance.new("UICorner", cornerPatch)
    cornerRadius.CornerRadius = UDim.new(0, 20)
end
createLeafCorner()

-- Royal green gradient
local UIGradient = Instance.new("UIGradient", MainFrame)
UIGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 70, 30)), -- Royal green
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(20, 40, 10)), -- Dark forest
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 60, 25)) -- Royal green
})
UIGradient.Rotation = 30

-- Organic stroke (vein-like)
local Stroke = Instance.new("UIStroke", MainFrame)
Stroke.Color = Color3.fromRGB(0, 150, 50) -- Bright royal green
Stroke.Thickness = 1.5
Stroke.Transparency = 0.4

-- Decorative leaf veins (lines)
local function createVein(offset, width, rotation)
    local vein = Instance.new("Frame")
    vein.Size = UDim2.new(0, width, 0, 2)
    vein.Position = UDim2.new(0.5, offset, 0, 15)
    vein.AnchorPoint = Vector2.new(0.5, 0)
    vein.BackgroundColor3 = Color3.fromRGB(0, 120, 40)
    vein.BackgroundTransparency = 0.6
    vein.BorderSizePixel = 0
    vein.Rotation = rotation
    vein.Parent = MainFrame
    
    local veinCorner = Instance.new("UICorner", vein)
    veinCorner.CornerRadius = UDim.new(1, 0)
end

createVein(-30, 40, -5)
createVein(30, 40, 5)
createVein(0, 60, 0)

-- Title with leaf icon
local TitleLabel = Instance.new("TextLabel")
TitleLabel.Size = UDim2.new(1, -30, 0, 25)
TitleLabel.Position = UDim2.new(0, 15, 0, 8)
TitleLabel.BackgroundTransparency = 1
TitleLabel.Text = "â– L E A F Y â–"
TitleLabel.TextColor3 = Color3.fromRGB(100, 255, 100) -- Light royal green
TitleLabel.Font = Enum.Font.GothamBold
TitleLabel.TextSize = 16
TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
TitleLabel.Parent = MainFrame

-- Title glow
local TitleGlow = Instance.new("ImageLabel", TitleLabel)
TitleGlow.Size = UDim2.new(1.2, 0, 1.5, 0)
TitleGlow.Position = UDim2.new(-0.1, 0, -0.25, 0)
TitleGlow.BackgroundTransparency = 1
TitleGlow.Image = "rbxassetid://8992231221"
TitleGlow.ImageColor3 = Color3.fromRGB(0, 255, 100)
TitleGlow.ImageTransparency = 0.8
TitleGlow.ScaleType = Enum.ScaleType.Slice

-- Speed Row with organic design
local SpeedIcon = Instance.new("TextLabel")
SpeedIcon.Size = UDim2.new(0, 20, 0, 20)
SpeedIcon.Position = UDim2.new(0, 15, 0, 40)
SpeedIcon.BackgroundTransparency = 1
SpeedIcon.Text = "âš¡"
SpeedIcon.TextColor3 = Color3.fromRGB(150, 255, 150)
SpeedIcon.Font = Enum.Font.GothamBold
SpeedIcon.TextSize = 16
SpeedIcon.Parent = MainFrame

local SpeedLabel = Instance.new("TextLabel")
SpeedLabel.Size = UDim2.new(0, 45, 0, 20)
SpeedLabel.Position = UDim2.new(0, 35, 0, 42)
SpeedLabel.BackgroundTransparency = 1
SpeedLabel.Text = "SPEED"
SpeedLabel.TextColor3 = Color3.fromRGB(200, 255, 200)
SpeedLabel.Font = Enum.Font.Gotham
SpeedLabel.TextSize = 11
SpeedLabel.TextXAlignment = Enum.TextXAlignment.Left
SpeedLabel.Parent = MainFrame

local SpeedBox = Instance.new("TextBox")
SpeedBox.Name = "SpeedBox"
SpeedBox.Size = UDim2.new(0, 60, 0, 22)
SpeedBox.Position = UDim2.new(0, 85, 0, 40)
SpeedBox.BackgroundColor3 = Color3.fromRGB(5, 15, 5)
SpeedBox.Text = "22.5"
SpeedBox.TextColor3 = Color3.fromRGB(100, 255, 100)
SpeedBox.Font = Enum.Font.Gotham
SpeedBox.TextSize = 12
SpeedBox.ClearTextOnFocus = false
SpeedBox.Parent = MainFrame

local SpeedBoxCorner = Instance.new("UICorner", SpeedBox)
SpeedBoxCorner.CornerRadius = UDim.new(0, 8)

local SpeedBoxStroke = Instance.new("UIStroke", SpeedBox)
SpeedBoxStroke.Color = Color3.fromRGB(0, 150, 50)
SpeedBoxStroke.Thickness = 1

-- Jump Row
local JumpIcon = Instance.new("TextLabel")
JumpIcon.Size = UDim2.new(0, 20, 0, 20)
JumpIcon.Position = UDim2.new(0, 15, 0, 70)
JumpIcon.BackgroundTransparency = 1
JumpIcon.Text = "ðŸƒ"
JumpIcon.TextColor3 = Color3.fromRGB(150, 255, 150)
JumpIcon.Font = Enum.Font.GothamBold
JumpIcon.TextSize = 16
JumpIcon.Parent = MainFrame

local JumpLabel = Instance.new("TextLabel")
JumpLabel.Size = UDim2.new(0, 45, 0, 20)
JumpLabel.Position = UDim2.new(0, 35, 0, 72)
JumpLabel.BackgroundTransparency = 1
JumpLabel.Text = "JUMP"
JumpLabel.TextColor3 = Color3.fromRGB(200, 255, 200)
JumpLabel.Font = Enum.Font.Gotham
JumpLabel.TextSize = 11
JumpLabel.TextXAlignment = Enum.TextXAlignment.Left
JumpLabel.Parent = MainFrame

local JumpBox = Instance.new("TextBox")
JumpBox.Name = "JumpBox"
JumpBox.Size = UDim2.new(0, 60, 0, 22)
JumpBox.Position = UDim2.new(0, 85, 0, 70)
JumpBox.BackgroundColor3 = Color3.fromRGB(5, 15, 5)
JumpBox.Text = "35"
JumpBox.TextColor3 = Color3.fromRGB(100, 255, 100)
JumpBox.Font = Enum.Font.Gotham
JumpBox.TextSize = 12
JumpBox.ClearTextOnFocus = false
JumpBox.Parent = MainFrame

local JumpBoxCorner = Instance.new("UICorner", JumpBox)
JumpBoxCorner.CornerRadius = UDim.new(0, 8)

local JumpBoxStroke = Instance.new("UIStroke", JumpBox)
JumpBoxStroke.Color = Color3.fromRGB(0, 150, 50)
JumpBoxStroke.Thickness = 1

-- Leaf-shaped Toggle Button
local ToggleButton = Instance.new("TextButton")
ToggleButton.Name = "ToggleBooster"
ToggleButton.Size = UDim2.new(0, 50, 0, 24)
ToggleButton.Position = UDim2.new(1, -60, 0, 45)
ToggleButton.BackgroundColor3 = Color3.fromRGB(5, 15, 5)
ToggleButton.Text = ""
ToggleButton.AutoButtonColor = false
ToggleButton.Parent = MainFrame

-- Custom leaf shape for toggle (using multiple corners)
local ToggleCorner = Instance.new("UICorner", ToggleButton)
ToggleCorner.CornerRadius = UDim.new(0, 12)

local ToggleCorner2 = Instance.new("UICorner", ToggleButton)
ToggleCorner2.CornerRadius = UDim.new(0, 4)

-- Toggle Background (Shows state)
local ToggleBackground = Instance.new("Frame", ToggleButton)
ToggleBackground.Size = UDim2.new(1, 0, 1, 0)
ToggleBackground.BackgroundColor3 = Color3.fromRGB(100, 30, 0) -- Brown when off (like autumn leaf)
ToggleBackground.BackgroundTransparency = 0.2
ToggleBackground.ZIndex = 0
Instance.new("UICorner", ToggleBackground).CornerRadius = UDim.new(0, 12)

-- Leaf-shaped Knob
local Knob = Instance.new("ImageLabel", ToggleButton)
Knob.Name = "ToggleKnob"
Knob.Size = UDim2.new(0, 18, 0, 18)
Knob.Position = UDim2.new(0, 3, 0.5, 0)
Knob.AnchorPoint = Vector2.new(0, 0.5)
Knob.BackgroundTransparency = 1
Knob.Image = "rbxassetid://6026568198" -- Leaf icon
Knob.ImageColor3 = Color3.fromRGB(200, 255, 150)
Knob.ZIndex = 2

-- Status indicator with leaf
local StatusIcon = Instance.new("TextLabel")
StatusIcon.Size = UDim2.new(0, 20, 0, 20)
StatusIcon.Position = UDim2.new(1, -50, 0, 90)
StatusIcon.BackgroundTransparency = 1
StatusIcon.Text = "ðŸŒ±"
StatusIcon.TextColor3 = Color3.fromRGB(150, 255, 150)
StatusIcon.Font = Enum.Font.GothamBold
StatusIcon.TextSize = 14
StatusIcon.Parent = MainFrame

local StatusLabel = Instance.new("TextLabel")
StatusLabel.Size = UDim2.new(0, 30, 0, 20)
StatusLabel.Position = UDim2.new(1, -30, 0, 92)
StatusLabel.BackgroundTransparency = 1
StatusLabel.Text = "OFF"
StatusLabel.TextColor3 = Color3.fromRGB(200, 100, 100)
StatusLabel.Font = Enum.Font.GothamBold
StatusLabel.TextSize = 10
StatusLabel.TextXAlignment = Enum.TextXAlignment.Left
StatusLabel.Parent = MainFrame

-- Booster State
local BoosterEnabled = false
local SpeedValue = 22.5
local JumpValue = 35

local TweenInfoSmooth = TweenInfo.new(0.2, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local TweenInfoBounce = TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out)

-- Toggle Logic
ToggleButton.MouseButton1Click:Connect(function()
    BoosterEnabled = not BoosterEnabled
    
    local targetColor = BoosterEnabled and Color3.fromRGB(0, 150, 50) or Color3.fromRGB(100, 30, 0) -- Royal green when on, brown when off
    local targetPos = BoosterEnabled and UDim2.new(1, -21, 0.5, 0) or UDim2.new(0, 3, 0.5, 0)
    local statusText = BoosterEnabled and "ON" or "OFF"
    local statusColor = BoosterEnabled and Color3.fromRGB(100, 255, 100) or Color3.fromRGB(255, 100, 100)
    local statusIcon = BoosterEnabled and "ðŸŒ¿" or "ðŸŒ±"
    
    -- Animate toggle
    TweenService:Create(ToggleBackground, TweenInfoSmooth, { BackgroundColor3 = targetColor }):Play()
    TweenService:Create(Knob, TweenInfoBounce, { Position = targetPos }):Play()
    TweenService:Create(StatusLabel, TweenInfoSmooth, { TextColor3 = statusColor }):Play()
    
    -- Bounce effect on knob
    TweenService:Create(Knob, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), { Size = UDim2.new(0, 22, 0, 22) }):Play()
    task.wait(0.1)
    TweenService:Create(Knob, TweenInfo.new(0.1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), { Size = UDim2.new(0, 18, 0, 18) }):Play()
    
    StatusLabel.Text = statusText
    StatusIcon.Text = statusIcon
    
    -- Pulse effect on frame when turned on
    if BoosterEnabled then
        TweenService:Create(Stroke, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), { 
            Color = Color3.fromRGB(150, 255, 150),
            Thickness = 2.5 
        }):Play()
        task.wait(0.3)
        TweenService:Create(Stroke, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), { 
            Color = Color3.fromRGB(0, 150, 50),
            Thickness = 1.5 
        }):Play()
    end
end)

-- Update values when typing
SpeedBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local num = tonumber(SpeedBox.Text)
        if num and num > 0 then
            SpeedValue = num
            -- Feedback animation
            TweenService:Create(SpeedBoxStroke, TweenInfo.new(0.2), { Color = Color3.fromRGB(150, 255, 150) }):Play()
            task.wait(0.2)
            TweenService:Create(SpeedBoxStroke, TweenInfo.new(0.2), { Color = Color3.fromRGB(0, 150, 50) }):Play()
        else
            SpeedBox.Text = tostring(SpeedValue)
        end
    end
end)

JumpBox.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local num = tonumber(JumpBox.Text)
        if num and num > 0 then
            JumpValue = num
            TweenService:Create(JumpBoxStroke, TweenInfo.new(0.2), { Color = Color3.fromRGB(150, 255, 150) }):Play()
            task.wait(0.2)
            TweenService:Create(JumpBoxStroke, TweenInfo.new(0.2), { Color = Color3.fromRGB(0, 150, 50) }):Play()
        else
            JumpBox.Text = tostring(JumpValue)
        end
    end
end)

RunService.Heartbeat:Connect(function()
    if not BoosterEnabled then return end
    local character = LocalPlayer.Character
    if not character then return end
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    local rootPart = character:FindFirstChild("HumanoidRootPart")
    if not humanoid or not rootPart then return end
    if humanoid.MoveDirection.Magnitude > 0 then
        rootPart.Velocity = Vector3.new(
            humanoid.MoveDirection.X * SpeedValue,
            rootPart.Velocity.Y,
            humanoid.MoveDirection.Z * SpeedValue
        )
    end
    humanoid.UseJumpPower = true
    humanoid.JumpPower = JumpValue
end)

-- Dragging functionality
local dragging = false
local dragStart, startPos
MainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        TweenService:Create(MainFrame, TweenInfo.new(0.1), { BackgroundTransparency = 0.2 }):Play()
    
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
                TweenService:Create(MainFrame, TweenInfo.new(0.1), { BackgroundTransparency = 0.1 }):Play()
            end
        end)
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

MainFrame.MouseEnter:Connect(function()
    TweenService:Create(Stroke, TweenInfo.new(0.2), { 
        Color = Color3.fromRGB(150, 255, 150),
        Transparency = 0.2 
    }):Play()
end)

MainFrame.MouseLeave:Connect(function()
    TweenService:Create(Stroke, TweenInfo.new(0.2), { 
        Color = Color3.fromRGB(0, 150, 50),
        Transparency = 0.4 
    }):Play()
end)
